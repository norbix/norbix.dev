<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><script>(function(){const e=localStorage.getItem("theme"),t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;e==="dark"||!e&&t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),window.setTheme=function(e){localStorage.setItem("theme",e),document.documentElement.classList.toggle("dark",e==="dark")}})()</script><title>Kubernetes Operators in Go | norbix.dev
</title><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Kubernetes Operators in Go | norbix.dev - The log of my journey through code & software systems architecture</title>
<meta name=keywords content="kubernetes,go,operator-sdk,controller-runtime,cloud-native"><meta name=description content="Learn how to build and understand Kubernetes Operators in Go â€” from controllers and reconciliation loops to the Operator SDK."><meta name=author content><link rel=canonical href=https://norbix.dev/posts/kubernetes-operators-in-go/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=https://norbix.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://norbix.dev/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://norbix.dev/favicon-32x32.png><link rel=apple-touch-icon href=https://norbix.dev/apple-touch-icon.png><link rel=mask-icon href=https://norbix.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://norbix.dev/posts/kubernetes-operators-in-go/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><link rel=canonical href=https://norbix.dev/posts/kubernetes-operators-in-go/><meta property="og:title" content="Kubernetes Operators in Go"><meta property="og:url" content="https://norbix.dev/posts/kubernetes-operators-in-go/"><meta property="og:image" content="https://norbix.dev/banner.jpg"><meta property="og:type" content="article"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Kubernetes Operators in Go"><meta name=twitter:image content="https://norbix.dev/banner.jpg"><script data-goatcounter=https://norbix.goatcounter.com/count async src=//gc.zgo.at/count.js></script><link rel=alternate type=application/rss+xml title="RSS Feed for norbix.dev" href=/index.xml><script src=https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js defer></script><script>document.addEventListener("DOMContentLoaded",function(){window.mermaid&&(document.querySelectorAll("code.language-mermaid").forEach(function(e){var n=e.parentElement,t=document.createElement("div");t.className="mermaid",t.textContent=e.textContent,n.replaceWith(t)}),mermaid.initialize({startOnLoad:!0}))})</script><link href=https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/css/lightbox.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/js/lightbox.min.js defer></script><meta property="og:title" content="Kubernetes Operators in Go"><meta property="og:description" content="Learn how to build and understand Kubernetes Operators in Go â€” from controllers and reconciliation loops to the Operator SDK."><meta property="og:type" content="article"><meta property="og:url" content="https://norbix.dev/posts/kubernetes-operators-in-go/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-10-07T10:00:00+02:00"><meta property="article:modified_time" content="2025-10-07T10:00:00+02:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Kubernetes Operators in Go"><meta name=twitter:description content="Learn how to build and understand Kubernetes Operators in Go â€” from controllers and reconciliation loops to the Operator SDK."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://norbix.dev/posts/"},{"@type":"ListItem","position":2,"name":"Kubernetes Operators in Go","item":"https://norbix.dev/posts/kubernetes-operators-in-go/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Kubernetes Operators in Go","name":"Kubernetes Operators in Go","description":"Learn how to build and understand Kubernetes Operators in Go â€” from controllers and reconciliation loops to the Operator SDK.","keywords":["kubernetes","go","operator-sdk","controller-runtime","cloud-native"],"articleBody":" ğŸ¹ Developing Kubernetes (K8s) Operators in Go â€œAutomation is powerful. But automation that understands Kubernetes state? Thatâ€™s what Operators deliver.â€\nKubernetes Operators let you extend the platformâ€™s capabilities beyond deployments and services â€” into managing complex applications, lifecycle events, and custom resources. And Go is the native language of Kubernetes â€” which makes it the perfect choice for building them.\nâš™ï¸ What Is a Kubernetes (K8s) Operator? A Kubernetes Operator is a special kind of controller that manages the lifecycle of Custom Resources (CRDs) â€” your own Kubernetes-native objects.\nOperators embody operational logic in code. Instead of running manual scripts to install, configure, and update complex apps, an Operator does it automatically â€” continuously reconciling desired and actual state.\nflowchart LR subgraph \"Kubernetes Cluster\" A[\"Custom Resource (YAML)\"] --\u003e B[\"Controller / Operator\"] B --\u003e C[\"API Server\"] C --\u003e D[\"Managed Application\"] end ğŸ§± The Core Concepts Concept Description Custom Resource (CRD) Defines a new Kubernetes API type, e.g., KafkaCluster, PostgresDB. Controller Watches the cluster for changes and acts on them. Reconcile Loop Logic that brings actual state in line with desired state. Manager Runs one or more controllers within a single binary (operator process). ğŸ§° Tooling: Operator SDK and Controller Runtime Most operators are built using either:\nkubebuilder - the foundation used by the Kubernetes project itself. Operator SDK - built on top of Kubebuilder, adds scaffolding, Helm/Ansible support, and packaging tools. Both use the same controller-runtime library under the hood.\nğŸ§‘â€ğŸ’» Minimal Operator in Go Letâ€™s start small â€” a custom resource that defines a simple app replica count, like a toy version of a Deployment.\nDefine the CRD type\n1 2 3 4 5 6 7 8 9 type AppSpec struct { Replicas int `json:\"replicas\"` } type App struct { metav1.TypeMeta `json:\",inline\"` metav1.ObjectMeta `json:\"metadata,omitempty\"` Spec AppSpec `json:\"spec,omitempty\"` } Write the Reconciler\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 type AppReconciler struct { client.Client Scheme *runtime.Scheme } func (r *AppReconciler) Reconcile(ctx context.Context, req ctrl.Request) (ctrl.Result, error) { var app v1alpha1.App if err := r.Get(ctx, req.NamespacedName, \u0026app); err != nil { return ctrl.Result{}, client.IgnoreNotFound(err) } fmt.Printf(\"Reconciling App: %s with %d replicas\\n\", app.Name, app.Spec.Replicas) // logic to create/update pods, deployments, etc. return ctrl.Result{RequeueAfter: time.Minute}, nil } Register with the Manager\n1 2 3 4 5 func (r *AppReconciler) SetupWithManager(mgr ctrl.Manager) error { return ctrl.NewControllerManagedBy(mgr). For(\u0026v1alpha1.App{}). Complete(r) } ğŸ§° Try It Yourself â€” Demo Repository You can explore a working version of this basic Operator (which watches and copies ConfigMaps between namespaces) here:\nğŸ‘‰ norbix/demo2_k8soperator_golang\nItâ€™s a minimal controller built with kubebuilder, showcasing:\nA real reconciliation loop in Go, RBAC permissions via controller-gen, and namespace-aware ConfigMap copying. Feel free to clone it, run make run, and explore how reconciliation behaves locally before deploying it into a cluster.\nğŸ”„ How Reconciliation Works The controller watches for changes in your custom resource (App).\nEach time the CR changes, the Reconcile function runs.\nYou query current cluster state.\nCompare it to desired state.\nApply Kubernetes API calls to fix drift.\nThis â€œwatch â†’ compare â†’ actâ€ loop is the heartbeat of every Kubernetes Operator.\nğŸ§© Example Use Cases Database lifecycle (PostgreSQL, Cassandra)\nMessage brokers (Kafka, RabbitMQ)\nIn-house platform abstractions (custom CRDs for deployments or internal apps)\nCertificates, secrets, or DNS automation\nSaaS product provisioning (multi-tenant control planes)\nğŸ§  Why Build Operators in Go? Reason Benefit Native to Kubernetes All core components are Go; you use the same APIs. Strong typing Prevents config and schema errors early. Performance Lightweight, fast binaries for controllers. Ecosystem Access to client-go, controller-runtime, and api-machinery. âš™ï¸ Common Pitfalls Forgetting to requeue (return ctrl.Result{RequeueAfter: â€¦})\nNot handling NotFound errors (causes noisy logs)\nToo much logic in Reconcile() â€” move helpers to separate packages\nForgetting RBAC permissions (config/rbac/role.yaml)\nğŸš€ What if you want to build a real-world Operator? Try kubebuilder init --domain=example.com --repo=github.com/norbix/app-operator\nGenerate your API: kubebuilder create api --group apps --version v1alpha1 --kind App\nBuild and run locally: make run\nDeploy to a kind/minikube cluster and apply your CRD.\nğŸ§© Summary Kubernetes Operators let you embed operational knowledge directly into the cluster. They turn scripts into controllers, and manual operations into self-healing automation.\nâ€œIn the end, Operators are just Go programs â€” but they make Kubernetes feel alive.â€\nğŸ”— Further Reading Kubebuilder Book\nOperator SDK Docs\nclient-go API reference\nğŸš€ Follow me on norbix.dev for more insights on Go, Python, AI, system design, and engineering wisdom.\n","wordCount":"732","inLanguage":"en","datePublished":"2025-10-07T10:00:00+02:00","dateModified":"2025-10-07T10:00:00+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://norbix.dev/posts/kubernetes-operators-in-go/"},"publisher":{"@type":"Organization","name":"norbix.dev - The log of my journey through code \u0026 software systems architecture","logo":{"@type":"ImageObject","url":"https://norbix.dev/favicon.ico"}}}</script></head><body><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://norbix.dev/ accesskey=h title="norbix.dev - The log of my journey through code & software systems architecture (Alt + H)">norbix.dev - The log of my journey through code & software systems architecture</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://norbix.dev/ title=Home><span>Home</span></a></li><li><a href=https://norbix.dev/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://norbix.dev/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://norbix.dev/about/ title=About><span>About</span></a></li><li><a href=https://norbix.dev/index.xml title="ğŸ“¡ RSS"><span>ğŸ“¡ RSS</span></a></li></ul></nav></header><main><main id=main><article class=post-single><header class=post-header><h1 class=post-title>Kubernetes Operators in Go</h1><span title='2025-10-07 10:00:00 +0200 +0200'>October 7, 2025</span></header><div class=post-content><nav class=table-of-contents><nav id=TableOfContents><ul><li><a href=#-developing-kubernetes-k8s-operators-in-go>ğŸ¹ Developing <code>Kubernetes (K8s) Operators</code> in <code>Go</code></a></li><li><a href=#-what-is-a-kubernetes-k8s-operator>âš™ï¸ What Is a <code>Kubernetes (K8s) Operator</code>?</a></li><li><a href=#-the-core-concepts>ğŸ§± The Core Concepts</a></li><li><a href=#-tooling-operator-sdk-and-controller-runtime>ğŸ§° Tooling: Operator SDK and Controller Runtime</a></li><li><a href=#-minimal-operator-in-go>ğŸ§‘â€ğŸ’» Minimal Operator in Go</a></li><li><a href=#-try-it-yourself--demo-repository>ğŸ§° Try It Yourself â€” Demo Repository</a></li><li><a href=#-how-reconciliation-works>ğŸ”„ How Reconciliation Works</a></li><li><a href=#-example-use-cases>ğŸ§© Example Use Cases</a></li><li><a href=#-why-build-operators-in-go>ğŸ§  Why Build Operators in Go?</a></li><li><a href=#-common-pitfalls>âš™ï¸ Common Pitfalls</a></li><li><a href=#-what-if-you-want-to-build-a-real-world-operator>ğŸš€ What if you want to build a real-world Operator?</a></li><li><a href=#-summary>ğŸ§© Summary</a></li><li><a href=#-further-reading>ğŸ”— Further Reading</a></li></ul></nav></nav><p><img loading=lazy src=banner.jpg alt=banner></p><h2 id=-developing-kubernetes-k8s-operators-in-go>ğŸ¹ Developing <code>Kubernetes (K8s) Operators</code> in <code>Go</code></h2><p>â€œAutomation is powerful. But automation that understands Kubernetes state? Thatâ€™s what Operators deliver.â€</p><p>Kubernetes Operators let you extend the platformâ€™s capabilities beyond deployments and services â€” into managing complex applications, lifecycle events, and custom resources.
And Go is the native language of Kubernetes â€” which makes it the perfect choice for building them.</p><h2 id=-what-is-a-kubernetes-k8s-operator>âš™ï¸ What Is a <code>Kubernetes (K8s) Operator</code>?</h2><p>A Kubernetes Operator is a special kind of controller that manages the lifecycle of Custom Resources (CRDs) â€” your own Kubernetes-native objects.</p><p>Operators embody operational logic in code.
Instead of running manual scripts to install, configure, and update complex apps, an Operator does it automatically â€” continuously reconciling desired and actual state.</p><pre tabindex=0><code class=language-mermaid data-lang=mermaid>flowchart LR
  subgraph &#34;Kubernetes Cluster&#34;
    A[&#34;Custom Resource (YAML)&#34;] --&gt; B[&#34;Controller / Operator&#34;]
    B --&gt; C[&#34;API Server&#34;]
    C --&gt; D[&#34;Managed Application&#34;]
  end
</code></pre><hr><h2 id=-the-core-concepts>ğŸ§± The Core Concepts</h2><table><thead><tr><th>Concept</th><th>Description</th></tr></thead><tbody><tr><td>Custom Resource (CRD)</td><td>Defines a new Kubernetes API type, e.g., <code>KafkaCluster</code>, <code>PostgresDB</code>.</td></tr><tr><td>Controller</td><td>Watches the cluster for changes and acts on them.</td></tr><tr><td>Reconcile Loop</td><td>Logic that brings actual state in line with desired state.</td></tr><tr><td>Manager</td><td>Runs one or more controllers within a single binary (operator process).</td></tr></tbody></table><hr><h2 id=-tooling-operator-sdk-and-controller-runtime>ğŸ§° Tooling: Operator SDK and Controller Runtime</h2><p>Most operators are built using either:</p><ul><li><code>kubebuilder</code> - the foundation used by the Kubernetes project itself.</li><li><code>Operator SDK</code> - built on top of <code>Kubebuilder</code>, adds <code>scaffolding</code>, <code>Helm/Ansible</code> support, and packaging tools.</li></ul><p>Both use the same controller-runtime library under the hood.</p><hr><h2 id=-minimal-operator-in-go>ğŸ§‘â€ğŸ’» Minimal Operator in Go</h2><p>Letâ€™s start small â€” a custom resource that defines a simple app replica count, like a toy version of a Deployment.</p><ol><li><p>Define the <code>CRD</code> type</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=nx>AppSpec</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Replicas</span> <span class=kt>int</span> <span class=s>`json:&#34;replicas&#34;`</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>App</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>metav1</span><span class=p>.</span><span class=nx>TypeMeta</span>   <span class=s>`json:&#34;,inline&#34;`</span>
</span></span><span class=line><span class=cl>    <span class=nx>metav1</span><span class=p>.</span><span class=nx>ObjectMeta</span> <span class=s>`json:&#34;metadata,omitempty&#34;`</span>
</span></span><span class=line><span class=cl>    <span class=nx>Spec</span>              <span class=nx>AppSpec</span> <span class=s>`json:&#34;spec,omitempty&#34;`</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>Write the Reconciler</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=nx>AppReconciler</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>client</span><span class=p>.</span><span class=nx>Client</span>
</span></span><span class=line><span class=cl>    <span class=nx>Scheme</span> <span class=o>*</span><span class=nx>runtime</span><span class=p>.</span><span class=nx>Scheme</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>r</span> <span class=o>*</span><span class=nx>AppReconciler</span><span class=p>)</span> <span class=nf>Reconcile</span><span class=p>(</span><span class=nx>ctx</span> <span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=p>,</span> <span class=nx>req</span> <span class=nx>ctrl</span><span class=p>.</span><span class=nx>Request</span><span class=p>)</span> <span class=p>(</span><span class=nx>ctrl</span><span class=p>.</span><span class=nx>Result</span><span class=p>,</span> <span class=kt>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>app</span> <span class=nx>v1alpha1</span><span class=p>.</span><span class=nx>App</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>r</span><span class=p>.</span><span class=nf>Get</span><span class=p>(</span><span class=nx>ctx</span><span class=p>,</span> <span class=nx>req</span><span class=p>.</span><span class=nx>NamespacedName</span><span class=p>,</span> <span class=o>&amp;</span><span class=nx>app</span><span class=p>);</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>ctrl</span><span class=p>.</span><span class=nx>Result</span><span class=p>{},</span> <span class=nx>client</span><span class=p>.</span><span class=nf>IgnoreNotFound</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;Reconciling App: %s with %d replicas\n&#34;</span><span class=p>,</span> <span class=nx>app</span><span class=p>.</span><span class=nx>Name</span><span class=p>,</span> <span class=nx>app</span><span class=p>.</span><span class=nx>Spec</span><span class=p>.</span><span class=nx>Replicas</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// logic to create/update pods, deployments, etc.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>ctrl</span><span class=p>.</span><span class=nx>Result</span><span class=p>{</span><span class=nx>RequeueAfter</span><span class=p>:</span> <span class=nx>time</span><span class=p>.</span><span class=nx>Minute</span><span class=p>},</span> <span class=kc>nil</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>Register with the Manager</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>r</span> <span class=o>*</span><span class=nx>AppReconciler</span><span class=p>)</span> <span class=nf>SetupWithManager</span><span class=p>(</span><span class=nx>mgr</span> <span class=nx>ctrl</span><span class=p>.</span><span class=nx>Manager</span><span class=p>)</span> <span class=kt>error</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>ctrl</span><span class=p>.</span><span class=nf>NewControllerManagedBy</span><span class=p>(</span><span class=nx>mgr</span><span class=p>).</span>
</span></span><span class=line><span class=cl>        <span class=nf>For</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>v1alpha1</span><span class=p>.</span><span class=nx>App</span><span class=p>{}).</span>
</span></span><span class=line><span class=cl>        <span class=nf>Complete</span><span class=p>(</span><span class=nx>r</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><hr><h2 id=-try-it-yourself--demo-repository>ğŸ§° Try It Yourself â€” Demo Repository</h2><p>You can explore a working version of this basic Operator (which watches and copies ConfigMaps between namespaces) here:</p><p>ğŸ‘‰ <a href=https://github.com/norbix/demo2_k8soperator_golang><strong>norbix/demo2_k8soperator_golang</strong></a></p><p>Itâ€™s a minimal controller built with <code>kubebuilder</code>, showcasing:</p><ul><li>A real reconciliation loop in Go,</li><li>RBAC permissions via <code>controller-gen</code>,</li><li>and namespace-aware ConfigMap copying.</li></ul><p>Feel free to clone it, run <code>make run</code>, and explore how reconciliation behaves locally before deploying it into a cluster.</p><hr><h2 id=-how-reconciliation-works>ğŸ”„ How Reconciliation Works</h2><ol><li><p>The controller watches for changes in your custom resource (App).</p></li><li><p>Each time the <code>CR</code> changes, the Reconcile function runs.</p></li><li><p>You query current cluster state.</p></li><li><p>Compare it to desired state.</p></li><li><p>Apply Kubernetes API calls to fix drift.</p></li></ol><p>This â€œwatch â†’ compare â†’ actâ€ loop is the heartbeat of every Kubernetes Operator.</p><hr><h2 id=-example-use-cases>ğŸ§© Example Use Cases</h2><ul><li><p>Database lifecycle (PostgreSQL, Cassandra)</p></li><li><p>Message brokers (Kafka, RabbitMQ)</p></li><li><p>In-house platform abstractions (custom CRDs for deployments or internal apps)</p></li><li><p>Certificates, secrets, or DNS automation</p></li><li><p>SaaS product provisioning (multi-tenant control planes)</p></li></ul><hr><h2 id=-why-build-operators-in-go>ğŸ§  Why Build Operators in Go?</h2><table><thead><tr><th>Reason</th><th>Benefit</th></tr></thead><tbody><tr><td>Native to Kubernetes</td><td>All core components are Go; you use the same APIs.</td></tr><tr><td>Strong typing</td><td>Prevents config and schema errors early.</td></tr><tr><td>Performance</td><td>Lightweight, fast binaries for controllers.</td></tr><tr><td>Ecosystem</td><td>Access to client-go, controller-runtime, and api-machinery.</td></tr></tbody></table><hr><h2 id=-common-pitfalls>âš™ï¸ Common Pitfalls</h2><ul><li><p>Forgetting to requeue (return ctrl.Result{RequeueAfter: &mldr;})</p></li><li><p>Not handling NotFound errors (causes noisy logs)</p></li><li><p>Too much logic in Reconcile() â€” move helpers to separate packages</p></li><li><p>Forgetting RBAC permissions (config/rbac/role.yaml)</p></li></ul><hr><h2 id=-what-if-you-want-to-build-a-real-world-operator>ğŸš€ What if you want to build a real-world Operator?</h2><ul><li><p>Try <code>kubebuilder init --domain=example.com --repo=github.com/norbix/app-operator</code></p></li><li><p>Generate your API: <code>kubebuilder create api --group apps --version v1alpha1 --kind App</code></p></li><li><p>Build and run locally: <code>make run</code></p></li><li><p>Deploy to a kind/minikube cluster and apply your CRD.</p></li></ul><hr><h2 id=-summary>ğŸ§© Summary</h2><p>Kubernetes Operators let you embed operational knowledge directly into the cluster.
They turn scripts into controllers, and manual operations into self-healing automation.</p><p>â€œIn the end, Operators are just Go programs â€” but they make Kubernetes feel alive.â€</p><hr><h2 id=-further-reading>ğŸ”— Further Reading</h2><ul><li><p><a href=https://book.kubebuilder.io/><code>Kubebuilder</code> Book</a></p></li><li><p><a href=https://sdk.operatorframework.io/docs/>Operator <code>SDK</code> Docs</a></p></li><li><p><a href=https://pkg.go.dev/k8s.io/client-go><code>client-go</code> API reference</a></p></li></ul><hr><p>ğŸš€ Follow me on <a href=https://norbix.dev>norbix.dev</a> for more insights on Go, Python, AI, system design, and engineering wisdom.</p></div><div class=post-subscribe><style>.subscribe-form{display:flex;gap:.5rem;margin-top:1rem;align-items:center}.subscribe-form input[type=email]{padding:.5rem;border-radius:6px;border:1px solid #ccc;background-color:#1f1f1f;color:#fff}.subscribe-form input[type=submit],.subscribe-form button{padding:.5rem 1rem;border-radius:6px;background-color:#facc15;color:#000;border:none;cursor:pointer;font-weight:700}.subscribe-form input[type=submit]:hover{background-color:#fcd34d}</style><form action=https://buttondown.email/api/emails/embed-subscribe/norbix method=post target=popupwindow onsubmit='window.open("https://buttondown.email/norbix","popupwindow")' class=subscribe-form><input type=email name=email placeholder="Enter your email" required>
<input type=submit value=Subscribe></form><p style=font-size:.875rem;opacity:.6>Powered by Buttondown.</p></div><div class=post-comments><script src=https://giscus.app/client.js data-repo=norbix/norbix.dev data-repo-id=R_kgDOOV_xMQ data-category=Announcements data-category-id=DIC_kwDOOV_xMc4CpF5M data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=dark data-lang=en crossorigin=anonymous async></script></div><nav class=paginav><a class=prev href=https://norbix.dev/posts/api-first-approach/><span class=title>Â« Prev</span><br><span>API-First Approach: Design Before You Code</span></a></nav></article></main></main><footer class=footer><span>&copy; 2025 <a href=https://norbix.dev/>norbix.dev - The log of my journey through code & software systems architecture</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script src=https://platform.linkedin.com/badges/js/profile.js async defer type=text/javascript></script></body></html>