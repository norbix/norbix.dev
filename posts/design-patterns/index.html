<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Design Patterns in Go: Practical Examples | norbix.dev - The log of my journey through code & software systems architecture</title>
<meta name=keywords content="go,golang,design patterns,architecture"><meta name=description content="Explore creational, structural, and behavioral design patterns in Go with clear explanations and code snippets."><meta name=author content><link rel=canonical href=https://norbix.dev/posts/design-patterns/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=https://norbix.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://norbix.dev/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://norbix.dev/favicon-32x32.png><link rel=apple-touch-icon href=https://norbix.dev/apple-touch-icon.png><link rel=mask-icon href=https://norbix.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://norbix.dev/posts/design-patterns/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script data-goatcounter=https://norbix.goatcounter.com/count async src=//gc.zgo.at/count.js></script><link rel=alternate type=application/rss+xml title="RSS Feed for norbix.dev" href=/index.xml><meta property="og:title" content="Design Patterns in Go: Practical Examples"><meta property="og:description" content="Explore creational, structural, and behavioral design patterns in Go with clear explanations and code snippets."><meta property="og:type" content="article"><meta property="og:url" content="https://norbix.dev/posts/design-patterns/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-04-15T12:43:02+02:00"><meta property="article:modified_time" content="2025-04-15T12:43:02+02:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Design Patterns in Go: Practical Examples"><meta name=twitter:description content="Explore creational, structural, and behavioral design patterns in Go with clear explanations and code snippets."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://norbix.dev/posts/"},{"@type":"ListItem","position":2,"name":"Design Patterns in Go: Practical Examples","item":"https://norbix.dev/posts/design-patterns/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Design Patterns in Go: Practical Examples","name":"Design Patterns in Go: Practical Examples","description":"Explore creational, structural, and behavioral design patterns in Go with clear explanations and code snippets.","keywords":["go","golang","design patterns","architecture"],"articleBody":"Design patterns are reusable solutions to common problems in software design.\nThey provide a shared language for developers and encourage best practices in system architecture.\nIn this article, weâ€™ll explore some of the most widely used design patterns in Go, grouped into three categories: creational, structural, and behavioral.\nğŸ”§ Creational Patterns ğŸ”‚ Singleton\nEnsures a class has only one instance and provides a global point of access to it.\nâ€œWhen discussing which pattern to drop, we found that we still love them all. (Not really â€” Iâ€™m in favor of dropping Singleton. Its use is almost always a design smell.)â€\nâ€” Erich Gamma, Design Patterns: Elements of Reusable Object-Oriented Software\nWhile Singleton often gets a bad reputation, there are still valid use cases in Go:\nâœ… You only want one component in the system (e.g., database repository, object factory) â³ The object is expensive to construct, so you instantiate it only once ğŸš« You want to prevent the creation of additional instances ğŸ’¤ You want lazy instantiation (e.g. load config or connect to DB only when needed) Go makes this easy and thread-safe with sync.Once. To stay testable and modular, follow the Dependency Inversion Principle (DIP) â€” depend on interfaces, not concrete types.\nHint:\nSingleton quite often breaks the Dependency Inversion Principle!\nğŸ§‘â€ğŸ’» Example:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package singleton import ( \"sync\" ) var ( instance *singleton once sync.Once ) type singleton struct{} func GetInstance() *singleton { once.Do(func() { instance = \u0026singleton{} }) return instance } ğŸ§ª Usage\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 package main import ( \"fmt\" \"singleton\" ) func main() { a := singleton.GetInstance() b := singleton.GetInstance() fmt.Println(a.Value) // Output: I am the only one // Confirm both variables point to the same instance fmt.Println(a == b) // Output: true } ğŸ­ Factory\nCreates objects without specifying the exact class.\nA factory helps simplify object creation when:\nğŸŒ€ Object creation logic becomes too convoluted ğŸ§± A struct has too many fields that need to be correctly initialized ğŸ’¡ You want to delegate creation logic away from the calling code There are two flavors of factories in Go:\nğŸ”§ Factory function (also called a constructor): a helper function to initialize struct instances ğŸ—ï¸ Factory struct: a dedicated struct responsible for managing object creation Unlike the Builder pattern, which is piecewise, the Factory creates the object wholesale â€” usually in one go.\nğŸ§‘â€ğŸ’» Example:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 package factory type Shape interface { Draw() string } type Circle struct{} func (c Circle) Draw() string { return \"Drawing Circle\" } type Square struct{} func (s Square) Draw() string { return \"Drawing Square\" } func GetShape(shapeType string) Shape { switch shapeType { case \"circle\": return Circle{} case \"square\": return Square{} default: return nil } } ğŸ§ª Usage\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 package main import ( \"fmt\" \"factory\" ) func main() { circle := factory.GetShape(\"circle\") square := factory.GetShape(\"square\") fmt.Println(circle.Draw()) // Output: Drawing Circle fmt.Println(square.Draw()) // Output: Drawing Square } ğŸ§± Builder\nSeparates the construction of a complex object from its representation.\nNot all objects are created equal:\nâœ… Some are simple and can be created with a single constructor call âš ï¸ Others require a lot of ceremony to set up ğŸ§© Factory functions with 10+ parameters become hard to use and maintain When you want more flexibility and readability, use the Builder pattern.\nğŸ› ï¸ A Builder is a separate component used to construct an object step-by-step ğŸ”„ It exposes a fluent API â€” each method returns the receiver (*Builder) to enable chaining ğŸ§  In advanced designs, different builders can operate on different facets of the same object ğŸ§‘â€ğŸ’» Example:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 package builder type Car struct { Engine string Wheels int Color string } type CarBuilder struct { car Car } func (b *CarBuilder) SetEngine(engine string) *CarBuilder { b.car.Engine = engine return b } func (b *CarBuilder) SetWheels(wheels int) *CarBuilder { b.car.Wheels = wheels return b } func (b *CarBuilder) SetColor(color string) *CarBuilder { b.car.Color = color return b } func (b *CarBuilder) Build() Car { return b.car } ğŸ§ª Usage\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 package main import ( \"fmt\" \"builder\" ) func main() { car := builder.CarBuilder{}. SetEngine(\"V8\"). SetWheels(4). SetColor(\"Red\"). Build() fmt.Printf(\"%+v\\n\", car) // Output: {Engine:V8 Wheels:4 Color:Red} } ğŸ§© Structural Patterns 1.ğŸ”Œ Adapter\nAllows incompatible interfaces to work together.\nAn Adapter is a design construct that adapts an existing interface X to conform to the required interface Y. It acts as a translator or bridge between two systems that otherwise couldnâ€™t work together.\nğŸ§­ To implement an adapter in Go:\n- ğŸ” Determine the **API you have** (e.g. `Adaptee`) - ğŸ¯ Define the **API you need** (e.g. `Target`) - ğŸ§© Create an adapter struct that **aggregates** the adaptee (usually via a pointer) - âš¡ Optimize when needed â€” adapters may introduce intermediate representations, so use **caching** or other performance strategies as required This is especially useful when integrating legacy code or 3rd-party libraries into a new system with different interfaces.\nğŸ§‘â€ğŸ’» Example:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 package adapter type Target interface { Request() string } type Adaptee struct{} func (a Adaptee) SpecificRequest() string { return \"Specific behavior\" } type Adapter struct { adaptee Adaptee } func (a Adapter) Request() string { return a.adaptee.SpecificRequest() } ğŸ§ª Usage\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 package main import ( \"fmt\" \"adapter\" ) func main() { adaptee := adapter.Adaptee{} adapterInstance := adapter.Adapter{Adaptee: adaptee} var target adapter.Target = adapterInstance fmt.Println(target.Request()) // Output: Specific behavior } ğŸ€ Decorator\nAdds behavior to objects dynamically by embedding and extending existing functionality.\nThe Decorator pattern is used when you want to:\nâ• Augment an object with additional behavior ğŸš« Avoid modifying existing code (âœ… Open/Closed Principle â€” OCP) ğŸ§¼ Keep new functionality separate and modular (âœ… Single Responsibility Principle â€” SRP) ğŸ”„ Retain the ability to interact with existing interfaces The solution is to embed the decorated object and override or extend its behavior. This lets you build stackable, reusable enhancements without altering the base struct.\nğŸ§‘â€ğŸ’» Example: wrapping a basic Coffee with a MilkDecorator:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 package decorator type Coffee interface { Cost() float64 } type SimpleCoffee struct{} func (s SimpleCoffee) Cost() float64 { return 2.0 } type MilkDecorator struct { Coffee } func (m MilkDecorator) Cost() float64 { return m.Coffee.Cost() + 0.5 } ğŸ§ª Usage\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 package main import ( \"fmt\" \"decorator\" ) func main() { var coffee decorator.Coffee = decorator.SimpleCoffee{} fmt.Println(\"Base cost:\", coffee.Cost()) // Output: 2.0 coffeeWithMilk := decorator.MilkDecorator{Coffee: coffee} fmt.Println(\"With milk:\", coffeeWithMilk.Cost()) // Output: 2.5 } ğŸ›¡ Proxy\nProvides a surrogate or placeholder.\nğŸ§‘â€ğŸ’» Example:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 package proxy type Image interface { Display() string } type RealImage struct { filename string } func (r RealImage) Display() string { return \"Displaying \" + r.filename } type ProxyImage struct { realImage *RealImage filename string } func (p *ProxyImage) Display() string { if p.realImage == nil { p.realImage = \u0026RealImage{filename: p.filename} } return p.realImage.Display() } ğŸ§ª Usage\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 package main import ( \"fmt\" \"proxy\" ) func main() { img := \u0026proxy.ProxyImage{filename: \"cat.png\"} // The real image is not loaded yet fmt.Println(img.Display()) // Output: Displaying cat.png // The real image is reused without reloading fmt.Println(img.Display()) // Output: Displaying cat.png } ğŸŒ³ Composite\nComposes objects into tree structures. Composes objects into tree structures and lets you treat individual and composite objects uniformly.\nThe Composite pattern is ideal when some components are single objects (like files), and others are containers of other components (like folders). Both should support a common interface so clients donâ€™t need to differentiate between them.\nğŸ§­ To implement a composite in Go:\nğŸ§± Define a common interface that all components implement.\nğŸŒ¿ Implement Leaf objects (e.g. File, Button, TextField).\nğŸ§º Implement Composite objects (e.g. Folder, Panel) that aggregate children and delegate behavior to them.\nğŸ” Add iteration if you need to traverse or walk the tree (e.g. using the Iterator pattern).\nThis pattern shines when building hierarchical or nested structures such as UI components, file systems, or organization charts.\nğŸ§‘â€ğŸ’» Example:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 package composite type Component interface { Operation() string } type Leaf struct { name string } func (l Leaf) Operation() string { return l.name } type Composite struct { children []Component } func (c *Composite) Add(child Component) { c.children = append(c.children, child) } func (c *Composite) Operation() string { result := \"\" for _, child := range c.children { result += child.Operation() + \" \" } return result } ğŸ“¦ Example usage:\n1 2 3 4 5 6 7 8 9 10 func main() { file1 := Leaf{name: \"FileA.txt\"} file2 := Leaf{name: \"FileB.txt\"} folder := \u0026Composite{} folder.Add(file1) folder.Add(file2) fmt.Println(folder.Operation()) // Output: FileA.txt FileB.txt } âœ… When to use Composite:\nYou want to treat individual and group objects the same way You have recursive or nested structures You want to delegate behavior to child components ğŸ” Bonus: Pair with the Iterator pattern to walk tree structures cleanly without exposing their internal representation.\nğŸ§  Behavioral Patterns ğŸ§® Strategy\nDefines a family of algorithms.\nEncapsulates a family of algorithms and allows them to be selected and swapped at runtime.\nThe Strategy pattern is used when you want to:\nğŸ§  Separate an algorithm into its skeleton and implementation steps ğŸ§© Decompose behavior into high-level workflows and low-level operations ğŸ”„ Swap logic dynamically without changing the calling code âœ… Adhere to the Open/Closed Principle (OCP) â€” new strategies without changing the high-level logic The solution is to define a high-level algorithm that delegates part of its logic to an injected strategy. This strategy follows a shared interface, so any implementation can be plugged in without breaking the algorithm. ğŸµ Analogy: making a hot beverage\nMany real-world algorithms follow this structure. Take making tea as an example:\nSkeleton algorithm: Boil water â†’ Pour into cup â†’ Add ingredient Concrete implementation: Add tea bag, coffee grounds, or cocoa powder The high-level process is reusable, and the final step is delegated to a drink-specific strategy. This is exactly how Strategy works.\nğŸ§‘â€ğŸ’» Example: Choosing an operation strategy\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 package strategy type Strategy interface { Execute(a, b int) int } type Add struct{} func (Add) Execute(a, b int) int { return a + b } type Multiply struct{} func (Multiply) Execute(a, b int) int { return a * b } type Context struct { strategy Strategy } func (c *Context) SetStrategy(s Strategy) { c.strategy = s } func (c Context) ExecuteStrategy(a, b int) int { return c.strategy.Execute(a, b) } ğŸ§ª Usage\n1 2 3 4 5 6 7 ctx := strategy.Context{} ctx.SetStrategy(strategy.Add{}) fmt.Println(ctx.ExecuteStrategy(3, 4)) // Output: 7 ctx.SetStrategy(strategy.Multiply{}) fmt.Println(ctx.ExecuteStrategy(3, 4)) // Output: 12 By:\nDefining a common interface (Strategy) Creating multiple concrete strategies (Add, Multiply) Supporting runtime injection into a reusable context (Context) You separate the structure of the algorithm from its implementation. Just like boiling water and pouring it into a cup â€” what happens next depends on the drink youâ€™re making.\nThis makes your code modular, extensible, and easy to adapt to new behaviors without touching your existing flow.\nğŸ‘€ Observer\nWants to listen to events and be notified when something happens.\nThe Observer pattern is used when you want to:\nğŸ“£ Be informed when a particular object changes state, does something, or reacts to an external event ğŸ‘‚ Let other objects (observers) subscribe to and react to those changes ğŸ”„ Decouple the source of truth from those reacting to it âœ… Support dynamic subscription and unsubscription The solution is to have two participants:\nğŸŸ¢ Observable: emits events and holds a list of observers ğŸŸ¡ Observer: subscribes and reacts to events When the observable changes, it notifies all observers â€” sending event data (commonly as interface{} in Go) to each subscriber. This is an intrusive approach since the observable must provide explicit subscription management.\nğŸ§‘â€ğŸ’» Example:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 package observer type Observer interface { Update(string) } type Subject interface { Attach(Observer) Notify() } type ConcreteSubject struct { observers []Observer state string } func (s *ConcreteSubject) Attach(o Observer) { s.observers = append(s.observers, o) } func (s *ConcreteSubject) SetState(state string) { s.state = state s.Notify() } func (s *ConcreteSubject) Notify() { for _, o := range s.observers { o.Update(s.state) } } type ConcreteObserver struct { id string } func (o ConcreteObserver) Update(state string) { println(\"Observer\", o.id, \"received new state:\", state) } ğŸ§ª Usage\n1 2 3 4 5 6 7 8 9 10 11 12 subject := \u0026observer.ConcreteSubject{} observer1 := observer.ConcreteObserver{id: \"A\"} observer2 := observer.ConcreteObserver{id: \"B\"} subject.Attach(observer1) subject.Attach(observer2) subject.SetState(\"ğŸš€ Launching\") // Output: // Observer A received new state: ğŸš€ Launching // Observer B received new state: ğŸš€ Launching With Observer, you give objects the ability to react automatically to changes elsewhere, without tightly coupling them together. This pattern is especially helpful for:\nUIs reacting to data changes Logging and monitoring Event-based systems Hint:\nThis approach is intrusive â€” the observable must explicitly support subscriptions and notify logic.\nğŸ” State\nAllows an object to alter its behavior when its internal state changes â€” effectively changing its class at runtime.\nThe State pattern is used when you want to:\nğŸ”„ Let an object change behavior dynamically based on its current state ğŸ“² Model real-world systems where actions depend on state ğŸ§  Manage complex state logic in a modular, maintainable way The solution is to encapsulate each state in its own type and let the context object delegate behavior to the current state. When the state changes, so does the objectâ€™s behavior â€” without conditionals scattered throughout the code.\nThese transitions are triggered by events (e.g. dialing, picking up, hanging up), and actions vary depending on the state. This is a perfect fit for a state machine â€” a formal model that defines:\nğŸ“¥ Entry/exit actions for each state ğŸ”„ Transitions between states, often triggered by events âœ… Guards that control whether a transition is allowed âš™ï¸ A default behavior if no transition is found When systems grow in complexity, it pays to define states and transitions explicitly to keep logic clean and modular.\nğŸ§‘â€ğŸ’» Example:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 package state type State interface { Handle() string } type Context struct { state State } func (c *Context) SetState(s State) { c.state = s } func (c Context) Request() string { return c.state.Handle() } type OnState struct{} func (OnState) Handle() string { return \"State is ON\" } type OffState struct{} func (OffState) Handle() string { return \"State is OFF\" } ğŸ§ª Usage\n1 2 3 4 5 6 7 ctx := state.Context{} ctx.SetState(state.OnState{}) fmt.Println(ctx.Request()) // Output: State is ON ctx.SetState(state.OffState{}) fmt.Println(ctx.Request()) // Output: State is OFF With the State pattern:\nYou encapsulate each state and its logic in a separate type The object transitions explicitly in response to triggers Behavior is cleanly modular, without long chains of if or switch Whether youâ€™re modeling a telephone, a TCP connection, or a video player, state machines help you handle transitions with clarity, flexibility, and control.\nâœ… Conclusion Design patterns are powerful tools in every Go developerâ€™s toolkit. While Go encourages simplicity, these patterns still applyâ€”especially in large-scale systems or when writing reusable libraries. Using patterns like Singleton, Adapter, and Strategy can lead to cleaner, more testable, and maintainable code.\nHappy Go coding! ğŸ¹\nğŸš€ Follow me on norbix.dev for more insights on Go, system design, and engineering wisdom.\n","wordCount":"2812","inLanguage":"en","datePublished":"2025-04-15T12:43:02+02:00","dateModified":"2025-04-15T12:43:02+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://norbix.dev/posts/design-patterns/"},"publisher":{"@type":"Organization","name":"norbix.dev - The log of my journey through code \u0026 software systems architecture","logo":{"@type":"ImageObject","url":"https://norbix.dev/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://norbix.dev/ accesskey=h title="norbix.dev - The log of my journey through code & software systems architecture (Alt + H)">norbix.dev - The log of my journey through code & software systems architecture</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://norbix.dev/ title=Home><span>Home</span></a></li><li><a href=https://norbix.dev/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://norbix.dev/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://norbix.dev/about/ title=About><span>About</span></a></li><li><a href=https://norbix.dev/index.xml title="ğŸ“¡ RSS"><span>ğŸ“¡ RSS</span></a></li></ul></nav></header><main class=main><main id=main><article class=post-single><header class=post-header><h1 class=post-title>Design Patterns in Go: Practical Examples</h1><span title='2025-04-15 12:43:02 +0200 +0200'>April 15, 2025</span></header><div class=post-content><nav class=table-of-contents><nav id=TableOfContents><ul><li><a href=#-creational-patterns>ğŸ”§ Creational Patterns</a></li><li><a href=#-structural-patterns>ğŸ§© Structural Patterns</a></li><li><a href=#-behavioral-patterns>ğŸ§  Behavioral Patterns</a></li><li><a href=#-conclusion>âœ… Conclusion</a></li></ul></nav></nav><p>Design patterns are reusable solutions to common problems in software design.</p><p>They provide a shared language for developers and encourage best practices in system architecture.</p><p>In this article, we&rsquo;ll explore some of the most widely used design patterns in Go, grouped into three categories: creational, structural, and behavioral.</p><div style=display:flex;justify-content:center><img src=banner.jpg alt="Design Patterns in Go" style=max-width:100%;height:auto></div><hr><h2 id=-creational-patterns>ğŸ”§ Creational Patterns</h2><ol><li><p>ğŸ”‚ Singleton</p><p>Ensures a class has only one instance and provides a global point of access to it.</p><blockquote><p>â€œWhen discussing which pattern to drop, we found that we still love them all. (Not really â€” I&rsquo;m in favor of dropping Singleton. Its use is almost always a design smell.)â€<br>â€” <em>Erich Gamma, Design Patterns: Elements of Reusable Object-Oriented Software</em></p></blockquote><p>While Singleton often gets a bad reputation, there are still valid use cases in Go:</p><ul><li>âœ… You only want <strong>one component in the system</strong> (e.g., database repository, object factory)</li><li>â³ The object is <strong>expensive to construct</strong>, so you instantiate it only once</li><li>ğŸš« You want to <strong>prevent the creation of additional instances</strong></li><li>ğŸ’¤ You want <strong>lazy instantiation</strong> (e.g. load config or connect to DB only when needed)</li></ul><p>Go makes this easy and thread-safe with <code>sync.Once</code>. To stay testable and modular, follow the <strong>Dependency Inversion Principle (DIP)</strong> â€” depend on interfaces, not concrete types.</p><p><strong>Hint:</strong></p><p>Singleton quite often breaks the <strong>Dependency Inversion Principle</strong>!</p><p>ğŸ§‘â€ğŸ’» Example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>singleton</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;sync&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=nx>instance</span> <span class=o>*</span><span class=nx>singleton</span>
</span></span><span class=line><span class=cl>    <span class=nx>once</span>     <span class=nx>sync</span><span class=p>.</span><span class=nx>Once</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>singleton</span> <span class=kd>struct</span><span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>GetInstance</span><span class=p>()</span> <span class=o>*</span><span class=nx>singleton</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>once</span><span class=p>.</span><span class=nf>Do</span><span class=p>(</span><span class=kd>func</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>instance</span> <span class=p>=</span> <span class=o>&amp;</span><span class=nx>singleton</span><span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>return</span> <span class=nx>instance</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>ğŸ§ª Usage</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl><span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl><span class=s>&#34;singleton&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=nx>a</span> <span class=o>:=</span> <span class=nx>singleton</span><span class=p>.</span><span class=nf>GetInstance</span><span class=p>()</span>
</span></span><span class=line><span class=cl>   <span class=nx>b</span> <span class=o>:=</span> <span class=nx>singleton</span><span class=p>.</span><span class=nf>GetInstance</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>a</span><span class=p>.</span><span class=nx>Value</span><span class=p>)</span> <span class=c1>// Output: I am the only one</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=c1>// Confirm both variables point to the same instance</span>
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>a</span> <span class=o>==</span> <span class=nx>b</span><span class=p>)</span> <span class=c1>// Output: true</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>ğŸ­ Factory</p><p>Creates objects without specifying the exact class.</p><p>A <strong>factory</strong> helps simplify object creation when:</p><ul><li>ğŸŒ€ Object creation logic becomes <strong>too convoluted</strong></li><li>ğŸ§± A struct has <strong>too many fields</strong> that need to be correctly initialized</li><li>ğŸ’¡ You want to <strong>delegate creation logic</strong> away from the calling code</li></ul><p>There are two flavors of factories in Go:</p><ul><li>ğŸ”§ <strong>Factory function</strong> (also called a <code>constructor</code>): a helper function to initialize struct instances</li><li>ğŸ—ï¸ <strong>Factory struct</strong>: a dedicated struct responsible for managing object creation</li></ul><p>Unlike the Builder pattern, which is <em>piecewise</em>, the Factory creates the object <strong>wholesale</strong> â€” usually in one go.</p><p>ğŸ§‘â€ğŸ’» Example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>factory</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Shape</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=nf>Draw</span><span class=p>()</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Circle</span> <span class=kd>struct</span><span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>c</span> <span class=nx>Circle</span><span class=p>)</span> <span class=nf>Draw</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span> <span class=k>return</span> <span class=s>&#34;Drawing Circle&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Square</span> <span class=kd>struct</span><span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>s</span> <span class=nx>Square</span><span class=p>)</span> <span class=nf>Draw</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span> <span class=k>return</span> <span class=s>&#34;Drawing Square&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>GetShape</span><span class=p>(</span><span class=nx>shapeType</span> <span class=kt>string</span><span class=p>)</span> <span class=nx>Shape</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>switch</span> <span class=nx>shapeType</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s>&#34;circle&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>Circle</span><span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s>&#34;square&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>Square</span><span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>nil</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>ğŸ§ª Usage</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl><span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl><span class=s>&#34;factory&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>circle</span> <span class=o>:=</span> <span class=nx>factory</span><span class=p>.</span><span class=nf>GetShape</span><span class=p>(</span><span class=s>&#34;circle&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>square</span> <span class=o>:=</span> <span class=nx>factory</span><span class=p>.</span><span class=nf>GetShape</span><span class=p>(</span><span class=s>&#34;square&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>circle</span><span class=p>.</span><span class=nf>Draw</span><span class=p>())</span> <span class=c1>// Output: Drawing Circle</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>square</span><span class=p>.</span><span class=nf>Draw</span><span class=p>())</span> <span class=c1>// Output: Drawing Square</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>ğŸ§± Builder</p><p>Separates the construction of a complex object from its representation.</p><p>Not all objects are created equal:</p><ul><li>âœ… Some are simple and can be created with a single constructor call</li><li>âš ï¸ Others require <strong>a lot of ceremony</strong> to set up</li><li>ğŸ§© Factory functions with <strong>10+ parameters</strong> become hard to use and maintain</li></ul><p>When you want more flexibility and readability, use the <strong>Builder pattern</strong>.</p><ul><li>ğŸ› ï¸ A <strong>Builder</strong> is a separate component used to construct an object step-by-step</li><li>ğŸ”„ It exposes a <strong>fluent API</strong> â€” each method returns the receiver (<code>*Builder</code>) to enable chaining</li><li>ğŸ§  In advanced designs, <strong>different builders</strong> can operate on <strong>different facets</strong> of the same object</li></ul><p>ğŸ§‘â€ğŸ’» Example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>builder</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Car</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Engine</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl>    <span class=nx>Wheels</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl>    <span class=nx>Color</span>  <span class=kt>string</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>CarBuilder</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>car</span> <span class=nx>Car</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>b</span> <span class=o>*</span><span class=nx>CarBuilder</span><span class=p>)</span> <span class=nf>SetEngine</span><span class=p>(</span><span class=nx>engine</span> <span class=kt>string</span><span class=p>)</span> <span class=o>*</span><span class=nx>CarBuilder</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>b</span><span class=p>.</span><span class=nx>car</span><span class=p>.</span><span class=nx>Engine</span> <span class=p>=</span> <span class=nx>engine</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>b</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>b</span> <span class=o>*</span><span class=nx>CarBuilder</span><span class=p>)</span> <span class=nf>SetWheels</span><span class=p>(</span><span class=nx>wheels</span> <span class=kt>int</span><span class=p>)</span> <span class=o>*</span><span class=nx>CarBuilder</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>b</span><span class=p>.</span><span class=nx>car</span><span class=p>.</span><span class=nx>Wheels</span> <span class=p>=</span> <span class=nx>wheels</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>b</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>b</span> <span class=o>*</span><span class=nx>CarBuilder</span><span class=p>)</span> <span class=nf>SetColor</span><span class=p>(</span><span class=nx>color</span> <span class=kt>string</span><span class=p>)</span> <span class=o>*</span><span class=nx>CarBuilder</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>b</span><span class=p>.</span><span class=nx>car</span><span class=p>.</span><span class=nx>Color</span> <span class=p>=</span> <span class=nx>color</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>b</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>b</span> <span class=o>*</span><span class=nx>CarBuilder</span><span class=p>)</span> <span class=nf>Build</span><span class=p>()</span> <span class=nx>Car</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>b</span><span class=p>.</span><span class=nx>car</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>ğŸ§ª Usage</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>     <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>     <span class=s>&#34;builder&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>car</span> <span class=o>:=</span> <span class=nx>builder</span><span class=p>.</span><span class=nx>CarBuilder</span><span class=p>{}.</span>
</span></span><span class=line><span class=cl>    <span class=nf>SetEngine</span><span class=p>(</span><span class=s>&#34;V8&#34;</span><span class=p>).</span>
</span></span><span class=line><span class=cl>    <span class=nf>SetWheels</span><span class=p>(</span><span class=mi>4</span><span class=p>).</span>
</span></span><span class=line><span class=cl>    <span class=nf>SetColor</span><span class=p>(</span><span class=s>&#34;Red&#34;</span><span class=p>).</span>
</span></span><span class=line><span class=cl>    <span class=nf>Build</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%+v\n&#34;</span><span class=p>,</span> <span class=nx>car</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Output: {Engine:V8 Wheels:4 Color:Red}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><hr><h2 id=-structural-patterns>ğŸ§© Structural Patterns</h2><p>1.ğŸ”Œ Adapter</p><p>Allows incompatible interfaces to work together.</p><p>An <strong>Adapter</strong> is a design construct that adapts an existing interface <strong>X</strong> to conform to the required interface <strong>Y</strong>. It acts as a translator or bridge between two systems that otherwise couldnâ€™t work together.</p><p>ğŸ§­ To implement an adapter in Go:</p><pre><code>- ğŸ” Determine the **API you have** (e.g. `Adaptee`)
- ğŸ¯ Define the **API you need** (e.g. `Target`)
- ğŸ§© Create an adapter struct that **aggregates** the adaptee (usually via a pointer)
- âš¡ Optimize when needed â€” adapters may introduce intermediate representations, so use **caching** or other performance strategies as required
</code></pre><p>This is especially useful when integrating legacy code or 3rd-party libraries into a new system with different interfaces.</p><p>ğŸ§‘â€ğŸ’» Example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl> <span class=kn>package</span> <span class=nx>adapter</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl> <span class=kd>type</span> <span class=nx>Target</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nf>Request</span><span class=p>()</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl> <span class=kd>type</span> <span class=nx>Adaptee</span> <span class=kd>struct</span><span class=p>{}</span>
</span></span><span class=line><span class=cl>     <span class=kd>func</span> <span class=p>(</span><span class=nx>a</span> <span class=nx>Adaptee</span><span class=p>)</span> <span class=nf>SpecificRequest</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>         <span class=k>return</span> <span class=s>&#34;Specific behavior&#34;</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl> <span class=kd>type</span> <span class=nx>Adapter</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nx>adaptee</span> <span class=nx>Adaptee</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl> <span class=kd>func</span> <span class=p>(</span><span class=nx>a</span> <span class=nx>Adapter</span><span class=p>)</span> <span class=nf>Request</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=k>return</span> <span class=nx>a</span><span class=p>.</span><span class=nx>adaptee</span><span class=p>.</span><span class=nf>SpecificRequest</span><span class=p>()</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>ğŸ§ª Usage</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;adapter&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>adaptee</span> <span class=o>:=</span> <span class=nx>adapter</span><span class=p>.</span><span class=nx>Adaptee</span><span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=nx>adapterInstance</span> <span class=o>:=</span> <span class=nx>adapter</span><span class=p>.</span><span class=nx>Adapter</span><span class=p>{</span><span class=nx>Adaptee</span><span class=p>:</span> <span class=nx>adaptee</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>target</span> <span class=nx>adapter</span><span class=p>.</span><span class=nx>Target</span> <span class=p>=</span> <span class=nx>adapterInstance</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>target</span><span class=p>.</span><span class=nf>Request</span><span class=p>())</span> <span class=c1>// Output: Specific behavior</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ol><li><p>ğŸ€ Decorator</p><p>Adds behavior to objects dynamically by <strong>embedding</strong> and extending existing functionality.</p><p>The <strong>Decorator pattern</strong> is used when you want to:</p><ul><li>â• <strong>Augment</strong> an object with additional behavior</li><li>ğŸš« Avoid modifying existing code (âœ… Open/Closed Principle â€” OCP)</li><li>ğŸ§¼ Keep new functionality <strong>separate</strong> and modular (âœ… Single Responsibility Principle â€” SRP)</li><li>ğŸ”„ Retain the ability to <strong>interact with existing interfaces</strong></li></ul><p>The solution is to <strong>embed</strong> the decorated object and override or extend its behavior. This lets you build <strong>stackable, reusable enhancements</strong> without altering the base struct.</p><p>ğŸ§‘â€ğŸ’» Example: wrapping a basic <code>Coffee</code> with a <code>MilkDecorator</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>decorator</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Coffee</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nf>Cost</span><span class=p>()</span> <span class=kt>float64</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>SimpleCoffee</span> <span class=kd>struct</span><span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=kd>func</span> <span class=p>(</span><span class=nx>s</span> <span class=nx>SimpleCoffee</span><span class=p>)</span> <span class=nf>Cost</span><span class=p>()</span> <span class=kt>float64</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mf>2.0</span> 
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>MilkDecorator</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Coffee</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>m</span> <span class=nx>MilkDecorator</span><span class=p>)</span> <span class=nf>Cost</span><span class=p>()</span> <span class=kt>float64</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>m</span><span class=p>.</span><span class=nx>Coffee</span><span class=p>.</span><span class=nf>Cost</span><span class=p>()</span> <span class=o>+</span> <span class=mf>0.5</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>ğŸ§ª Usage</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl><span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl><span class=s>&#34;decorator&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>coffee</span> <span class=nx>decorator</span><span class=p>.</span><span class=nx>Coffee</span> <span class=p>=</span> <span class=nx>decorator</span><span class=p>.</span><span class=nx>SimpleCoffee</span><span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Base cost:&#34;</span><span class=p>,</span> <span class=nx>coffee</span><span class=p>.</span><span class=nf>Cost</span><span class=p>())</span> <span class=c1>// Output: 2.0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>coffeeWithMilk</span> <span class=o>:=</span> <span class=nx>decorator</span><span class=p>.</span><span class=nx>MilkDecorator</span><span class=p>{</span><span class=nx>Coffee</span><span class=p>:</span> <span class=nx>coffee</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;With milk:&#34;</span><span class=p>,</span> <span class=nx>coffeeWithMilk</span><span class=p>.</span><span class=nf>Cost</span><span class=p>())</span> <span class=c1>// Output: 2.5</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>ğŸ›¡ Proxy</p><p>Provides a surrogate or placeholder.</p><p>ğŸ§‘â€ğŸ’» Example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl> <span class=kn>package</span> <span class=nx>proxy</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>type</span> <span class=nx>Image</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nf>Display</span><span class=p>()</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>type</span> <span class=nx>RealImage</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nx>filename</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>func</span> <span class=p>(</span><span class=nx>r</span> <span class=nx>RealImage</span><span class=p>)</span> <span class=nf>Display</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=k>return</span> <span class=s>&#34;Displaying &#34;</span> <span class=o>+</span> <span class=nx>r</span><span class=p>.</span><span class=nx>filename</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>type</span> <span class=nx>ProxyImage</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nx>realImage</span> <span class=o>*</span><span class=nx>RealImage</span>
</span></span><span class=line><span class=cl>     <span class=nx>filename</span>  <span class=kt>string</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>func</span> <span class=p>(</span><span class=nx>p</span> <span class=o>*</span><span class=nx>ProxyImage</span><span class=p>)</span> <span class=nf>Display</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=k>if</span> <span class=nx>p</span><span class=p>.</span><span class=nx>realImage</span> <span class=o>==</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nx>p</span><span class=p>.</span><span class=nx>realImage</span> <span class=p>=</span> <span class=o>&amp;</span><span class=nx>RealImage</span><span class=p>{</span><span class=nx>filename</span><span class=p>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>filename</span><span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>     <span class=k>return</span> <span class=nx>p</span><span class=p>.</span><span class=nx>realImage</span><span class=p>.</span><span class=nf>Display</span><span class=p>()</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>ğŸ§ª Usage</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;proxy&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>img</span> <span class=o>:=</span> <span class=o>&amp;</span><span class=nx>proxy</span><span class=p>.</span><span class=nx>ProxyImage</span><span class=p>{</span><span class=nx>filename</span><span class=p>:</span> <span class=s>&#34;cat.png&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// The real image is not loaded yet</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>img</span><span class=p>.</span><span class=nf>Display</span><span class=p>())</span> <span class=c1>// Output: Displaying cat.png</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// The real image is reused without reloading</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>img</span><span class=p>.</span><span class=nf>Display</span><span class=p>())</span> <span class=c1>// Output: Displaying cat.png</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>ğŸŒ³ Composite</p><p>Composes objects into tree structures.
Composes objects into tree structures and lets you treat individual and composite objects uniformly.</p><p>The Composite pattern is ideal when some components are single objects (like files), and others are containers of other components (like folders). Both should support a common interface so clients donâ€™t need to differentiate between them.</p><p>ğŸ§­ To implement a composite in Go:</p><ul><li><p>ğŸ§± Define a common interface that all components implement.</p></li><li><p>ğŸŒ¿ Implement Leaf objects (e.g. File, Button, TextField).</p></li><li><p>ğŸ§º Implement Composite objects (e.g. Folder, Panel) that aggregate children and delegate behavior to them.</p></li><li><p>ğŸ” Add iteration if you need to traverse or walk the tree (e.g. using the Iterator pattern).</p></li></ul><p>This pattern shines when building hierarchical or nested structures such as UI components, file systems, or organization charts.</p><p>ğŸ§‘â€ğŸ’» Example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>composite</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Component</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nf>Operation</span><span class=p>()</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Leaf</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>l</span> <span class=nx>Leaf</span><span class=p>)</span> <span class=nf>Operation</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>l</span><span class=p>.</span><span class=nx>name</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Composite</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>children</span> <span class=p>[]</span><span class=nx>Component</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>c</span> <span class=o>*</span><span class=nx>Composite</span><span class=p>)</span> <span class=nf>Add</span><span class=p>(</span><span class=nx>child</span> <span class=nx>Component</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>c</span><span class=p>.</span><span class=nx>children</span> <span class=p>=</span> <span class=nb>append</span><span class=p>(</span><span class=nx>c</span><span class=p>.</span><span class=nx>children</span><span class=p>,</span> <span class=nx>child</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>c</span> <span class=o>*</span><span class=nx>Composite</span><span class=p>)</span> <span class=nf>Operation</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>result</span> <span class=o>:=</span> <span class=s>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>child</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>c</span><span class=p>.</span><span class=nx>children</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>result</span> <span class=o>+=</span> <span class=nx>child</span><span class=p>.</span><span class=nf>Operation</span><span class=p>()</span> <span class=o>+</span> <span class=s>&#34; &#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>result</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>ğŸ“¦ Example usage:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=nx>file1</span> <span class=o>:=</span> <span class=nx>Leaf</span><span class=p>{</span><span class=nx>name</span><span class=p>:</span> <span class=s>&#34;FileA.txt&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>file2</span> <span class=o>:=</span> <span class=nx>Leaf</span><span class=p>{</span><span class=nx>name</span><span class=p>:</span> <span class=s>&#34;FileB.txt&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>folder</span> <span class=o>:=</span> <span class=o>&amp;</span><span class=nx>Composite</span><span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=nx>folder</span><span class=p>.</span><span class=nf>Add</span><span class=p>(</span><span class=nx>file1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>folder</span><span class=p>.</span><span class=nf>Add</span><span class=p>(</span><span class=nx>file2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>folder</span><span class=p>.</span><span class=nf>Operation</span><span class=p>())</span> <span class=c1>// Output: FileA.txt FileB.txt</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>âœ… When to use Composite:</p><ul><li>You want to treat individual and group objects the same way</li><li>You have recursive or nested structures</li><li>You want to delegate behavior to child components</li></ul><p>ğŸ” Bonus: Pair with the Iterator pattern to walk tree structures cleanly without exposing their internal representation.</p></li></ol><hr><h2 id=-behavioral-patterns>ğŸ§  Behavioral Patterns</h2><ol><li><p>ğŸ§® Strategy</p><p>Defines a family of algorithms.</p><p>Encapsulates a family of algorithms and allows them to be selected and swapped at runtime.</p><p>The Strategy pattern is used when you want to:</p><ul><li>ğŸ§  Separate an algorithm into its skeleton and implementation steps</li><li>ğŸ§© Decompose behavior into high-level workflows and low-level operations</li><li>ğŸ”„ Swap logic dynamically without changing the calling code</li><li>âœ… Adhere to the Open/Closed Principle (OCP) â€” new strategies without changing the high-level logic</li></ul><p>The solution is to define a high-level algorithm that delegates part of its logic to an injected strategy. This strategy follows a shared interface, so any implementation can be plugged in without breaking the algorithm.
ğŸµ Analogy: making a hot beverage</p><p>Many real-world algorithms follow this structure. Take making tea as an example:</p><pre><code>Skeleton algorithm:
Boil water â†’ Pour into cup â†’ Add ingredient

Concrete implementation:
Add tea bag, coffee grounds, or cocoa powder
</code></pre><p>The high-level process is reusable, and the final step is delegated to a drink-specific strategy. This is exactly how Strategy works.</p><p>ğŸ§‘â€ğŸ’» Example: Choosing an operation strategy</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl> <span class=kn>package</span> <span class=nx>strategy</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>type</span> <span class=nx>Strategy</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nf>Execute</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>type</span> <span class=nx>Add</span> <span class=kd>struct</span><span class=p>{}</span>
</span></span><span class=line><span class=cl> <span class=kd>func</span> <span class=p>(</span><span class=nx>Add</span><span class=p>)</span> <span class=nf>Execute</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>     <span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span> 
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>type</span> <span class=nx>Multiply</span> <span class=kd>struct</span><span class=p>{}</span>
</span></span><span class=line><span class=cl> <span class=kd>func</span> <span class=p>(</span><span class=nx>Multiply</span><span class=p>)</span> <span class=nf>Execute</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>     <span class=k>return</span> <span class=nx>a</span> <span class=o>*</span> <span class=nx>b</span> 
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>type</span> <span class=nx>Context</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nx>strategy</span> <span class=nx>Strategy</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>func</span> <span class=p>(</span><span class=nx>c</span> <span class=o>*</span><span class=nx>Context</span><span class=p>)</span> <span class=nf>SetStrategy</span><span class=p>(</span><span class=nx>s</span> <span class=nx>Strategy</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nx>c</span><span class=p>.</span><span class=nx>strategy</span> <span class=p>=</span> <span class=nx>s</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>func</span> <span class=p>(</span><span class=nx>c</span> <span class=nx>Context</span><span class=p>)</span> <span class=nf>ExecuteStrategy</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=k>return</span> <span class=nx>c</span><span class=p>.</span><span class=nx>strategy</span><span class=p>.</span><span class=nf>Execute</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>ğŸ§ª Usage</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>ctx</span> <span class=o>:=</span> <span class=nx>strategy</span><span class=p>.</span><span class=nx>Context</span><span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>ctx</span><span class=p>.</span><span class=nf>SetStrategy</span><span class=p>(</span><span class=nx>strategy</span><span class=p>.</span><span class=nx>Add</span><span class=p>{})</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>ctx</span><span class=p>.</span><span class=nf>ExecuteStrategy</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>))</span> <span class=c1>// Output: 7</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>ctx</span><span class=p>.</span><span class=nf>SetStrategy</span><span class=p>(</span><span class=nx>strategy</span><span class=p>.</span><span class=nx>Multiply</span><span class=p>{})</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>ctx</span><span class=p>.</span><span class=nf>ExecuteStrategy</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>))</span> <span class=c1>// Output: 12</span>
</span></span></code></pre></td></tr></table></div></div><p>By:</p><ul><li>Defining a common interface (Strategy)</li><li>Creating multiple concrete strategies (Add, Multiply)</li><li>Supporting runtime injection into a reusable context (Context)</li></ul><p>You separate the structure of the algorithm from its implementation. Just like boiling water and pouring it into a cup â€” what happens next depends on the drink you&rsquo;re making.</p><p>This makes your code modular, extensible, and easy to adapt to new behaviors without touching your existing flow.</p></li><li><p>ğŸ‘€ Observer</p><p>Wants to listen to events and be notified when something happens.</p><p>The Observer pattern is used when you want to:</p><ul><li>ğŸ“£ Be informed when a particular object changes state, does something, or reacts to an external event</li><li>ğŸ‘‚ Let other objects (observers) subscribe to and react to those changes</li><li>ğŸ”„ Decouple the source of truth from those reacting to it</li><li>âœ… Support dynamic subscription and unsubscription</li></ul><p>The solution is to have two participants:</p><ul><li>ğŸŸ¢ Observable: emits events and holds a list of observers</li><li>ğŸŸ¡ Observer: subscribes and reacts to events</li></ul><p>When the observable changes, it notifies all observers â€” sending event data (commonly as interface{} in Go) to each subscriber.
This is an intrusive approach since the observable must provide explicit subscription management.</p><p>ğŸ§‘â€ğŸ’» Example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl> <span class=kn>package</span> <span class=nx>observer</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>type</span> <span class=nx>Observer</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nf>Update</span><span class=p>(</span><span class=kt>string</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>type</span> <span class=nx>Subject</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nf>Attach</span><span class=p>(</span><span class=nx>Observer</span><span class=p>)</span>
</span></span><span class=line><span class=cl>     <span class=nf>Notify</span><span class=p>()</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>type</span> <span class=nx>ConcreteSubject</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nx>observers</span> <span class=p>[]</span><span class=nx>Observer</span>
</span></span><span class=line><span class=cl>     <span class=nx>state</span>     <span class=kt>string</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>func</span> <span class=p>(</span><span class=nx>s</span> <span class=o>*</span><span class=nx>ConcreteSubject</span><span class=p>)</span> <span class=nf>Attach</span><span class=p>(</span><span class=nx>o</span> <span class=nx>Observer</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nx>s</span><span class=p>.</span><span class=nx>observers</span> <span class=p>=</span> <span class=nb>append</span><span class=p>(</span><span class=nx>s</span><span class=p>.</span><span class=nx>observers</span><span class=p>,</span> <span class=nx>o</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>func</span> <span class=p>(</span><span class=nx>s</span> <span class=o>*</span><span class=nx>ConcreteSubject</span><span class=p>)</span> <span class=nf>SetState</span><span class=p>(</span><span class=nx>state</span> <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nx>s</span><span class=p>.</span><span class=nx>state</span> <span class=p>=</span> <span class=nx>state</span>
</span></span><span class=line><span class=cl>     <span class=nx>s</span><span class=p>.</span><span class=nf>Notify</span><span class=p>()</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>func</span> <span class=p>(</span><span class=nx>s</span> <span class=o>*</span><span class=nx>ConcreteSubject</span><span class=p>)</span> <span class=nf>Notify</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>o</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>s</span><span class=p>.</span><span class=nx>observers</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>         <span class=nx>o</span><span class=p>.</span><span class=nf>Update</span><span class=p>(</span><span class=nx>s</span><span class=p>.</span><span class=nx>state</span><span class=p>)</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>type</span> <span class=nx>ConcreteObserver</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nx>id</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>func</span> <span class=p>(</span><span class=nx>o</span> <span class=nx>ConcreteObserver</span><span class=p>)</span> <span class=nf>Update</span><span class=p>(</span><span class=nx>state</span> <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nb>println</span><span class=p>(</span><span class=s>&#34;Observer&#34;</span><span class=p>,</span> <span class=nx>o</span><span class=p>.</span><span class=nx>id</span><span class=p>,</span> <span class=s>&#34;received new state:&#34;</span><span class=p>,</span> <span class=nx>state</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>ğŸ§ª Usage</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>subject</span> <span class=o>:=</span> <span class=o>&amp;</span><span class=nx>observer</span><span class=p>.</span><span class=nx>ConcreteSubject</span><span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>observer1</span> <span class=o>:=</span> <span class=nx>observer</span><span class=p>.</span><span class=nx>ConcreteObserver</span><span class=p>{</span><span class=nx>id</span><span class=p>:</span> <span class=s>&#34;A&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>observer2</span> <span class=o>:=</span> <span class=nx>observer</span><span class=p>.</span><span class=nx>ConcreteObserver</span><span class=p>{</span><span class=nx>id</span><span class=p>:</span> <span class=s>&#34;B&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>subject</span><span class=p>.</span><span class=nf>Attach</span><span class=p>(</span><span class=nx>observer1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>subject</span><span class=p>.</span><span class=nf>Attach</span><span class=p>(</span><span class=nx>observer2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>subject</span><span class=p>.</span><span class=nf>SetState</span><span class=p>(</span><span class=s>&#34;ğŸš€ Launching&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// Output:</span>
</span></span><span class=line><span class=cl><span class=c1>// Observer A received new state: ğŸš€ Launching</span>
</span></span><span class=line><span class=cl><span class=c1>// Observer B received new state: ğŸš€ Launching</span>
</span></span></code></pre></td></tr></table></div></div><p>With Observer, you give objects the ability to react automatically to changes elsewhere, without tightly coupling them together. This pattern is especially helpful for:</p><ul><li>UIs reacting to data changes</li><li>Logging and monitoring</li><li>Event-based systems</li></ul><p><strong>Hint:</strong></p><p>This approach is intrusive â€” the observable must explicitly support subscriptions and notify logic.</p></li><li><p>ğŸ” State</p><p>Allows an object to alter its behavior when its internal state changes â€” effectively changing its class at runtime.</p><p>The State pattern is used when you want to:</p><ul><li>ğŸ”„ Let an object change behavior dynamically based on its current state</li><li>ğŸ“² Model real-world systems where actions depend on state</li><li>ğŸ§  Manage complex state logic in a modular, maintainable way</li></ul><p>The solution is to encapsulate each state in its own type and let the context object delegate behavior to the current state. When the state changes, so does the object&rsquo;s behavior â€” without conditionals scattered throughout the code.</p><p>These transitions are triggered by events (e.g. dialing, picking up, hanging up), and actions vary depending on the state. This is a perfect fit for a state machine â€” a formal model that defines:</p><ul><li>ğŸ“¥ Entry/exit actions for each state</li><li>ğŸ”„ Transitions between states, often triggered by events</li><li>âœ… Guards that control whether a transition is allowed</li><li>âš™ï¸ A default behavior if no transition is found</li></ul><p>When systems grow in complexity, it pays to define states and transitions explicitly to keep logic clean and modular.</p><p>ğŸ§‘â€ğŸ’» Example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl> <span class=kn>package</span> <span class=nx>state</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>type</span> <span class=nx>State</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nf>Handle</span><span class=p>()</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>type</span> <span class=nx>Context</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nx>state</span> <span class=nx>State</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>func</span> <span class=p>(</span><span class=nx>c</span> <span class=o>*</span><span class=nx>Context</span><span class=p>)</span> <span class=nf>SetState</span><span class=p>(</span><span class=nx>s</span> <span class=nx>State</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nx>c</span><span class=p>.</span><span class=nx>state</span> <span class=p>=</span> <span class=nx>s</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>func</span> <span class=p>(</span><span class=nx>c</span> <span class=nx>Context</span><span class=p>)</span> <span class=nf>Request</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=k>return</span> <span class=nx>c</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nf>Handle</span><span class=p>()</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>type</span> <span class=nx>OnState</span> <span class=kd>struct</span><span class=p>{}</span>
</span></span><span class=line><span class=cl> <span class=kd>func</span> <span class=p>(</span><span class=nx>OnState</span><span class=p>)</span> <span class=nf>Handle</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>     <span class=k>return</span> <span class=s>&#34;State is ON&#34;</span> 
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=kd>type</span> <span class=nx>OffState</span> <span class=kd>struct</span><span class=p>{}</span>
</span></span><span class=line><span class=cl> <span class=kd>func</span> <span class=p>(</span><span class=nx>OffState</span><span class=p>)</span> <span class=nf>Handle</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>     <span class=k>return</span> <span class=s>&#34;State is OFF&#34;</span> 
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>ğŸ§ª Usage</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>ctx</span> <span class=o>:=</span> <span class=nx>state</span><span class=p>.</span><span class=nx>Context</span><span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>ctx</span><span class=p>.</span><span class=nf>SetState</span><span class=p>(</span><span class=nx>state</span><span class=p>.</span><span class=nx>OnState</span><span class=p>{})</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>ctx</span><span class=p>.</span><span class=nf>Request</span><span class=p>())</span> <span class=c1>// Output: State is ON</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>ctx</span><span class=p>.</span><span class=nf>SetState</span><span class=p>(</span><span class=nx>state</span><span class=p>.</span><span class=nx>OffState</span><span class=p>{})</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>ctx</span><span class=p>.</span><span class=nf>Request</span><span class=p>())</span> <span class=c1>// Output: State is OFF</span>
</span></span></code></pre></td></tr></table></div></div><p>With the State pattern:</p><ul><li>You encapsulate each state and its logic in a separate type</li><li>The object transitions explicitly in response to triggers</li><li>Behavior is cleanly modular, without long chains of if or switch</li></ul><p>Whether you&rsquo;re modeling a telephone, a TCP connection, or a video player, state machines help you handle transitions with clarity, flexibility, and control.</p></li></ol><hr><h2 id=-conclusion>âœ… Conclusion</h2><p>Design patterns are powerful tools in every Go developerâ€™s toolkit. While Go encourages simplicity, these patterns still applyâ€”especially in large-scale systems or when writing reusable libraries. Using patterns like Singleton, Adapter, and Strategy can lead to cleaner, more testable, and maintainable code.</p><p>Happy Go coding! ğŸ¹</p><hr><p>ğŸš€ Follow me on <a href=https://norbix.dev>norbix.dev</a> for more insights on Go, system design, and engineering wisdom.</p></div><div class=post-subscribe><style>.subscribe-form{display:flex;gap:.5rem;margin-top:1rem;align-items:center}.subscribe-form input[type=email]{padding:.5rem;border-radius:6px;border:1px solid #ccc;background-color:#1f1f1f;color:#fff}.subscribe-form input[type=submit],.subscribe-form button{padding:.5rem 1rem;border-radius:6px;background-color:#facc15;color:#000;border:none;cursor:pointer;font-weight:700}.subscribe-form input[type=submit]:hover{background-color:#fcd34d}</style><form action=https://buttondown.email/api/emails/embed-subscribe/norbix method=post target=popupwindow onsubmit='window.open("https://buttondown.email/norbix","popupwindow")' class=subscribe-form><input type=email name=email placeholder="Enter your email" required>
<input type=submit value=Subscribe></form><p style=font-size:.875rem;opacity:.6>Powered by Buttondown.</p></div><div class=post-comments><script src=https://giscus.app/client.js data-repo=norbix/norbix.dev data-repo-id=R_kgDOOV_xMQ data-category=Announcements data-category-id=DIC_kwDOOV_xMc4CpF5M data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=dark data-lang=en crossorigin=anonymous async></script></div><nav class=paginav><a class=prev href=https://norbix.dev/posts/dependency-inversion-principle/><span class=title>Â« Prev</span><br><span>Breaking the Chain: Dependency Inversion, Interfaces, and Testable Go Code</span>
</a><a class=next href=https://norbix.dev/posts/algorithms-and-data-structures/><span class=title>Next Â»</span><br><span>DSA- Algorithms and Data Structures</span></a></nav></article></main></main><footer class=footer><span>&copy; 2025 <a href=https://norbix.dev/>norbix.dev - The log of my journey through code & software systems architecture</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>